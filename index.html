<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
    <style>
        .timeline-container::before {
            content: '';
            position: absolute;
            width: 4px;
            height: 100%;
            background: rgba(255, 255, 255, 0.7);
            left: 50%;
            transform: translateX(-50%);
            z-index: 0;
        }
        
        @media (max-width: 768px) {
            .timeline-container::before {
                left: 0;
            }
        }

        /* Card styles */
        .project-card {
            position: relative;
            width: 100%;
            height: 100%;
            background: rgb(17, 24, 39);
            padding: 1.5rem;
            border-radius: 0.75rem;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
            cursor: pointer;
        }

        .project-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px -10px rgba(255, 255, 255, 0.2);
        }

        .click-indicator {
            position: absolute;
            bottom: 1.5rem;
            left: 1.5rem;
            color: rgb(96, 165, 250);
            opacity: 0;
            transition: opacity 0.3s ease;
            width: 20px;
            height: 20px;
        }

        .project-card:hover .click-indicator {
            opacity: 0.8;
        }

        .flip-card {
            perspective: 1000px;
            width: 100%;
            height: 100%;
        }

        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: left;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flip-card.flipped .flip-card-inner {
            transform: rotateY(180deg);
        }

        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .flip-card-back {
            transform: rotateY(180deg);
        }

        .flip-icon {
            position: absolute;
            width: 24px;
            height: 24px;
            color: rgb(96, 165, 250);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .project-card:hover .flip-icon {
            opacity: 0.8;
        }

        .flip-icon-left {
            top: 1.5rem;
            left: 1.5rem;
        }

        .flip-icon-right {
            top: 1.5rem;
            right: 1.5rem;
        }

        .card-container {
            perspective: 1000px;
            width: 100%;
        }

        .card {
            position: relative;
            width: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            min-height: 100%;
        }

        .card.flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: relative;
            width: 100%;
            min-height: 100%;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }

        .card-front {
            transform: rotateY(0deg);
        }

        .card-back {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            transform: rotateY(180deg);
            height: 100%;
        }

        .card-back .project-card {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 2rem;
            height: 100%;
            background: rgb(15, 19, 25);
            border-radius: 1rem;
            position: relative;
        }

        .card-back h3 {
            text-align: center;
            font-size: 1.75rem;
            color: rgb(147, 197, 253);
            margin-bottom: 0;
        }

        .card-back .project-card::before,
        .card-back .project-card::after {
            content: '';
            position: absolute;
            top: 100%;
            width: 2px;
            height: 10rem;
            background: rgba(255, 255, 255, 0.7);
            z-index: 1;
        }

        .card-back .project-card::before {
            left: 33%;
        }

        .card-back .project-card::after {
            right: 33%;
        }

        .hanging-sign {
            position: absolute;
            bottom: -12.5rem;
            left: 0;
            right: 0;
            background: rgb(15, 19, 25);
            padding: 1.5rem 2rem;
            border-radius: 0.5rem;
            margin: 0 1rem;
            z-index: 2;
            transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
        }

        /* Match the exact same hover effect as project cards - for both card and sign hover */
        .hanging-sign:hover,
        .card-back:hover .hanging-sign {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px -10px rgba(255, 255, 255, 0.2);
        }

        /* Card face hover effect */
        .card-face:hover .project-card {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px -10px rgba(255, 255, 255, 0.2);
        }

        .tech-details {
            margin-top: 1.5rem;
            text-align: left;
            font-size: 1rem;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.9);
            padding-bottom: 1rem;
        }

        .tech-stack-list {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 0.75rem 2rem;
            color: rgba(255, 255, 255, 0.9);
        }

        .tech-stack-list li {
            display: flex;
            align-items: center;
            font-size: 0.95rem;
        }

        .tech-stack-list li::before {
            content: "â€¢";
            color: white;
            margin-right: 0.75rem;
            font-size: 1.2rem;
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.6);
        }

        .card-back .flip-button {
            position: absolute;
            top: 2rem;
            width: 1.5rem;
            height: 1.5rem;
        }

        .card-back .flip-button-left {
            left: 2rem;
        }

        .card-back .flip-button-right {
            right: 2rem;
        }

        /* Make the flip buttons visible but not needed for flipping */
        .flip-button {
            position: absolute;
            top: 1.5rem;
            width: 24px;
            height: 24px;
            color: rgb(96, 165, 250);
            background: none;
            border: none;
            padding: 0;
            line-height: 1;
            opacity: 0.6;
            pointer-events: none; /* Disable button clicks since whole card is clickable */
        }

        /* No need for hover styles to change opacity since buttons are always visible */
        .flip-button svg {
            width: 100%;
            height: 100%;
        }

        .flip-button-left {
            left: 1.5rem;
        }

        .flip-button-right {
            right: 1.5rem;
        }

        /* Timeline spacing */
        .timeline-container > div.relative {
            margin-bottom: 8rem !important;
            transition: margin 0.6s ease-out;
        }

        /* Dynamic spacing using custom property */
        .timeline-container > div.relative.needs-space {
            margin-bottom: var(--dynamic-space) !important;
        }

        /* Initial expansion class */
        .timeline-container > div.relative.initial-expand {
            margin-bottom: var(--expanded-space) !important;
        }

        /* Projects section height and padding */
        #projects {
            min-height: 150vh;
            padding-top: 12rem;
            padding-bottom: 24rem; /* Increased from 12rem to 24rem to provide more space at the bottom */
            overflow: visible !important; /* Ensure content can extend beyond the section boundaries */
        }

        /* Timeline container spacing */
        .timeline-container {
            padding-top: 4rem;
            position: relative;
            overflow: visible; /* Changed from hidden to visible to allow elements to extend beyond container */
        }

        /* Make sure the last project card can extend fully */
        .timeline-container > div.relative:last-child {
            margin-bottom: 15rem !important; /* Explicit space after the last card to accommodate hanging sign */
            overflow: visible;
        }

        /* Add radial gradient background behind timeline */
        .timeline-dot-glow {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 250rem;
            height: 250rem;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            background: radial-gradient(circle, 
                rgba(255, 255, 255, 0.2) 0%,
                rgba(255, 255, 255, 0.18) 3%, 
                rgba(255, 255, 255, 0.15) 5%, 
                rgba(255, 255, 255, 0.12) 10%, 
                rgba(255, 255, 255, 0.1) 15%,
                rgba(255, 255, 255, 0.07) 25%,
                rgba(255, 255, 255, 0.05) 40%,
                rgba(255, 255, 255, 0.03) 60%,
                rgba(255, 255, 255, 0.02) 80%,
                rgba(0, 0, 0, 0) 98%);
            pointer-events: none;
            z-index: 20; /* Increased to make sure it displays above all section backgrounds */
            mix-blend-mode: screen;
            opacity: 0;
            transition: opacity 0.8s ease;
            filter: contrast(1.1) brightness(1.2);
        }

        /* Adjust timeline dot */
        .timeline-dot {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 2rem;
            height: 2rem;
            background: white;
            border-radius: 50%;
            border: 4px solid black;
            z-index: 25; /* Increased from 20 to appear above the glow */
            box-shadow: 0 0 12px 4px rgba(255, 255, 255, 0.4);
        }

        .timeline-dot::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 1.5rem;
            height: 1.5rem;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            opacity: 0.7;
        }

        @media (max-width: 768px) {
            .timeline-dot, .timeline-dot-glow {
                left: 0;
            }
            
            .timeline-dot-glow {
                transform: translate(0, -50%);
            }
        }

        /* Add fade transition for hero content */
        .hero-content {
            transition: opacity 0.8s ease;
        }
        .hero-content.faded {
            opacity: 0;
        }

        /* Prevent horizontal scrolling */
        body {
            overflow-x: hidden;
        }

        /* Ensure sections have proper overflow to show hanging elements */
        section {
            overflow: visible !important;
            position: relative;
        }

        /* Make sure light can "escape" the container visually */
        #projects {
            isolation: isolate;
        }

        /* Strict overflow control to prevent horizontal scrolling */
        html, body {
            max-width: 100%;
            overflow-x: hidden !important;
            position: relative;
        }

        /* Add the new journey title styles */
        .journey-title {
            color: rgb(96, 165, 250); /* Match the exact blue color used in timeline */
            position: relative;
            display: inline-block;
            padding: 0 1rem;
            /* Remove text-center as it's now handled by the container */
        }
        
        /* Remove the animation keyframes since we don't need the glow effect anymore */
        .journey-title {
            /* Remove the animation property */
        }

        /* Disable hanging strings for card-5 */
        #card-5 .project-card::before,
        #card-5 .project-card::after {
            display: none !important;
        }
    </style>
</head>
<body class="bg-black text-white">
    <!-- Hero Section -->
    <section id="hero" class="relative h-screen flex items-center justify-center overflow-visible">
        <canvas id="particleCanvas" class="absolute top-0 left-0 w-full" style="height: 130vh; z-index: 5;"></canvas>
        <div class="relative z-30 text-center px-4">
            <div class="hero-content text-center">
                <div class="mb-6">
                    <div class="w-48 h-48 mx-auto rounded-full overflow-hidden border-4 border-blue-400 shadow-2xl select-none pointer-events-none">
                        <img src="images/Profile.jpg" alt="Ben Macklin" class="w-full h-full object-cover">
                    </div>
                </div>
                <h1 class="text-5xl md:text-6xl font-bold mb-4 text-white">Hi, I'm <span class="text-blue-400">Ben Macklin</span></h1>
                <p class="text-xl text-gray-300 mb-8">Computer Engineering Student @ Queen's University with a Passion for Robotics</p>
                <div class="flex gap-4 justify-center">
                    <a href="#projects" class="px-6 py-3 bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors">View My Journey</a>
                    <a href="#contact" class="px-6 py-3 border border-blue-600 rounded-lg hover:bg-blue-600/20 transition-colors">Contact Me</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Projects Timeline Section -->
    <section id="projects" class="relative py-20 px-4 overflow-visible" style="background: transparent; z-index: 1;">
        <div class="absolute inset-0 bg-black/90" style="z-index: -1;"></div>
        <div class="max-w-6xl mx-auto">
            <div class="flex justify-center mb-16 relative z-30">
                <h2 class="text-4xl font-bold text-center text-blue-400 journey-title">My Journey</h2>
            </div>
            <div class="timeline-container relative">
                <!-- Project 1 -->
                <div class="relative z-10 mb-32 md:mb-24">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div class="md:text-right order-2 md:order-1">
                            <div class="card-container">
                                <div class="card" id="card-1">
                                    <div class="card-face card-front">
                                        <div class="bg-gray-900 p-6 rounded-xl shadow-lg project-card">
                                            <button class="flip-button flip-button-left">
                                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                                                </svg>
                                            </button>
                                            <h3 class="text-2xl font-bold text-blue-400 mt-2">Kitchen Vision Alert System</h3>
                                            <p class="mt-2 text-gray-300">My journey into computer vision began with a common roommate challenge - dirty dishes. I developed an alert system that could detect when dishes were left on the counter, and by who, sending friendly reminders to keep our space clean. This project sparked my fascination with computer vision's potential to solve everyday problems, setting me on a path that would grow far beyond simple detection systems.</p>
                                        </div>
                                    </div>
                                    <div class="card-face card-back">
                                        <div class="bg-gray-900 rounded-xl shadow-lg project-card">
                                            <button class="flip-button flip-button-left">
                                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                                                </svg>
                                            </button>
                                            <h3>Under the Hood</h3>
                                            <p class="tech-details">
                                                Captured live video feed from QuickTime Player and applied real-time contour-based object tracking using OpenCV at around 30 FPS. Although this approach worked initially for detecting dish placements, pure contour tracking proved inefficient under complex backgrounds and varied lighting conditions.
                                            </p>
                                            <div class="hanging-sign">
                                                <ul class="tech-stack-list">
                                                    <li>Python</li>
                                                    <li>OpenCV</li>
                                                    <li>QuickTime Player</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="order-1 md:order-2">
                            <div class="space-y-4">
                                <div class="aspect-video overflow-hidden rounded-xl shadow-lg">
                                    <video class="h-full w-full object-cover" controls muted>
                                        <source src="images/Kitchen.mp4" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="timeline-dot hidden md:block"></div>
                </div>

                <!-- Project 2 -->
                <div class="relative z-10 mb-32 md:mb-24">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div class="order-2">
                            <div class="aspect-video overflow-hidden rounded-xl shadow-lg">
                                <img src="images/Ironman.jpg" alt="Gesture Control System" class="h-full w-full object-cover">
                            </div>
                        </div>
                        <div class="order-1">
                            <div class="card-container">
                                <div class="card" id="card-2">
                                    <div class="card-face card-front">
                                        <div class="bg-gray-900 p-6 rounded-xl shadow-lg project-card">
                                            <button class="flip-button flip-button-right">
                                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                                                </svg>
                                            </button>
                                            <h3 class="text-2xl font-bold text-blue-400 mt-2">Gesture-Controlled Media System</h3>
                                            <p class="mt-2 text-gray-300">Inspired by Tony Stark's holographic interfaces, I pushed my computer vision skills further by creating a gesture-based control system. Using just hand movements, I could now control my computer's volume, play/pause media, and skip through playlists. This project transformed how I interacted with my computer, making me feel one step closer to that sci-fi future I'd always dreamed of.</p>
                                        </div>
                                    </div>
                                    <div class="card-face card-back">
                                        <div class="bg-gray-900 rounded-xl shadow-lg project-card">
                                            <button class="flip-button flip-button-right">
                                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                                                </svg>
                                            </button>
                                            <h3>Under the Hood</h3>
                                            <p class="tech-details">
                                                Built on MediaPipe's hand tracking model for precise gesture recognition. Implemented custom gesture patterns using vector mathematics and angle calculations between finger joints. System volume and media playback were controlled via native OS commands with a ~50ms response time.
                                            </p>
                                            <div class="hanging-sign">
                                                <ul class="tech-stack-list">
                                                    <li>Python</li>
                                                    <li>MediaPipe</li>
                                                    <li>OpenCV</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="timeline-dot hidden md:block"></div>
                </div>

                <!-- Project 3 -->
                <div class="relative z-10 mb-32 md:mb-24">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div class="md:text-right order-2 md:order-1">
                            <div class="card-container">
                                <div class="card" id="card-3">
                                    <div class="card-face card-front">
                                        <div class="bg-gray-900 p-6 rounded-xl shadow-lg project-card">
                                            <button class="flip-button flip-button-left">
                                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                                                </svg>
                                            </button>
                                            <h3 class="text-2xl font-bold text-blue-400 mt-2">Gesture-Controlled Smart Lighting</h3>
                                            <p class="mt-2 text-gray-300">Ready to bridge the gap between software and hardware, I created a system that controlled my room's LED lights through simple hand gestures. With just a pinch of my fingers, I could turn lights on/off and cycle through colors. This project marked my first step into the physical world, combining computer vision with real-world hardware control.</p>
                                        </div>
                                    </div>
                                    <div class="card-face card-back">
                                        <div class="bg-gray-900 rounded-xl shadow-lg project-card">
                                            <button class="flip-button flip-button-left">
                                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                                                </svg>
                                            </button>
                                            <h3>Under the Hood</h3>
                                            <p class="tech-details">
                                                Utilized MediaPipe's 21-point hand tracking at ~30 FPS to capture gesture coordinates. Serialized 3D gesture vectors over UART at 115200 baud, achieving sub-30 ms end-to-end latency. LED updates run at 60 Hz, enabling smooth brightness and color transitions.
                                            </p>
                                            <div class="hanging-sign">
                                                <ul class="tech-stack-list">
                                                    <li>Python</li>
                                                    <li>MediaPipe</li>
                                                    <li>OpenCV</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="order-1 md:order-2">
                            <div class="aspect-video overflow-hidden rounded-xl shadow-lg">
                                <img src="images/LEDLights.jpg" alt="Smart Lighting Control" class="h-full w-full object-cover">
                            </div>
                        </div>
                    </div>
                    <div class="timeline-dot hidden md:block"></div>
                </div>

                <!-- Project 4 -->
                <div class="relative z-10 mb-32 md:mb-24">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div class="order-2">
                            <div class="flex justify-center">
                                <div class="w-[33vh] max-w-full">
                                    <div class="aspect-[9/16] overflow-hidden rounded-xl shadow-lg bg-gray-900">
                                        <video class="h-full w-full object-contain" controls muted playsinline>
                                            <source src="images/IMG_3431 3.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="order-1">
                            <div class="card-container">
                                <div class="card" id="card-4">
                                    <div class="card-face card-front">
                                        <div class="bg-gray-900 p-6 rounded-xl shadow-lg project-card">
                                            <button class="flip-button flip-button-right">
                                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                                                </svg>
                                            </button>
                                            <h3 class="text-2xl font-bold text-blue-400 mt-2">Robotic Hand</h3>
                                            <p class="mt-2 text-gray-300">My most ambitious project yet combined everything I'd learned: a 3D-printed robotic hand that mirrors human hand movements in real-time. This project merged computer vision, hardware control, and some mechanical learning into one cohesive system. Watching the robotic hand move in perfect sync with my own was a defining moment that confirmed my passion for creating robots that can interact naturally with humans.</p>
                                        </div>
                                    </div>
                                    <div class="card-face card-back">
                                        <div class="bg-gray-900 rounded-xl shadow-lg project-card">
                                            <button class="flip-button flip-button-right">
                                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                                                </svg>
                                            </button>
                                            <h3>Under the Hood</h3>
                                            <p class="tech-details">
                                                Assembled from open-source STL models providing 5 degrees of freedom. MediaPipe hand tracking supplies 21 3D landmarks at ~30 FPS; finger open/closed states are determined by comparing tip-to-base landmark distances. Servo commands run at 100 Hz, achieving sub-15 ms actuation latency.
                                            </p>
                                            <div class="hanging-sign">
                                                <ul class="tech-stack-list">
                                                    <li>Python</li>
                                                    <li>MediaPipe</li>
                                                    <li>OpenCV</li>
                                                    <li>Fusion 360</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="timeline-dot hidden md:block"></div>
                </div>

                <!-- Project 5 (In Progress) -->
                <div class="relative z-10">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div class="md:text-right order-2 md:order-1">
                            <div class="card-container">
                                <div class="card" id="card-5">
                                    <div class="card-face card-front">
                                        <div class="bg-gray-900 p-6 rounded-xl shadow-lg project-card">
                                            <button class="flip-button flip-button-left">
                                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                                                </svg>
                                            </button>
                                            <h3 class="text-2xl font-bold text-blue-400 mt-2">Bipedal Robot</h3>
                                            <p class="mt-2 text-gray-300">Inspired by Nvidia and Disney's collaboration "Blue," I'm currently developing my most technically challenging project yet: a bipedal robot. This project represents everything I've learned about robotics, computer vision, and control systems, pushing me to new heights in mechanical design and AI integration. While still in development, this project embodies my commitment to creating increasingly sophisticated robotic systems.</p>
                                            <div class="mt-4 flex gap-4 md:justify-end">
                                                <span class="text-blue-400">In Development</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-face card-back">
                                        <div class="bg-gray-900 rounded-xl shadow-lg project-card">
                                            <button class="flip-button flip-button-left">
                                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                                                </svg>
                                            </button>
                                            <h3 class="text-2xl font-bold text-blue-400 mt-2">Work In Progress...</h3>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="order-1 md:order-2">
                            <div class="aspect-video overflow-hidden rounded-xl shadow-lg">
                                <img src="images/Blue.jpg" alt="Bipedal Robot Concept" class="h-full w-full object-cover">
                            </div>
                        </div>
                    </div>
                    <div class="timeline-dot hidden md:block"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="relative z-10 py-20 px-4 bg-black/90">
        <div class="max-w-2xl mx-auto text-center">
            <h2 class="text-4xl font-bold mb-8">Get in Touch</h2>
            <p class="text-gray-300 mb-8">Feel free to reach out for collaborations or just a friendly hello</p>
            <div class="flex gap-4 justify-center">
                <a href="mailto:benvmacklin@gmail.com" class="text-blue-400 hover:text-blue-300">Email</a>
                <a href="https://www.linkedin.com/in/ben-macklin-927576297/" class="text-blue-400 hover:text-blue-300">LinkedIn</a>
            </div>
        </div>
    </section>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Now we'll target the project cards instead of just the flip buttons
            const projectCards = document.querySelectorAll('.project-card');
            const cards = document.querySelectorAll('.card');
            let activeTimeout;
            let scrollToTopTimeout;
            
            // Handle journey button click and smooth scroll
            const journeyButton = document.querySelector('a[href="#projects"]');
            const heroContent = document.querySelector('.hero-content');
            
            if (journeyButton && heroContent) {
                journeyButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Fade out the hero content
                    heroContent.classList.add('faded');
                    
                    // Wait for fade to complete before scrolling
                    setTimeout(() => {
                        const projectsSection = document.getElementById('projects');
                        if (projectsSection) {
                            projectsSection.scrollIntoView({ behavior: 'smooth' });
                        }
                    }, 800); // Full fade time to ensure complete fade before scroll
                });
            }
            
            // Fade in hero content when scrolling back to top with delay
            window.addEventListener('scroll', () => {
                // Clear any pending timeouts
                clearTimeout(scrollToTopTimeout);
                
                if (window.scrollY < 100) {
                    // Near the top of the page - wait before fading back in
                    scrollToTopTimeout = setTimeout(() => {
                        heroContent.classList.remove('faded');
                    }, 200); // Reduced from 1000ms to 500ms for quicker fade-in
                } else if (window.scrollY > window.innerHeight / 2) {
                    // Scrolled past half the screen height
                    heroContent.classList.add('faded');
                }
            });
            
            // Fix spacing when a card is flipped
            function updateSpacing(timelineItem, isFlipped) {
                if (!timelineItem) return;
                
                if (isFlipped) {
                    const card = timelineItem.querySelector('.card');
                    const hangingSign = card.querySelector('.hanging-sign');
                    const nextItem = timelineItem.nextElementSibling;
                    
                    if (hangingSign && nextItem) {
                        // Ensure DOM is updated
                        void timelineItem.offsetHeight;
                        
                        // Get the exact positions
                        const signRect = hangingSign.getBoundingClientRect();
                        const nextCardRect = nextItem.querySelector('.card').getBoundingClientRect();
                        
                        // Log exact positions
                        console.log('Sign bottom position:', signRect.bottom);
                        console.log('Next card top position:', nextCardRect.top);
                        console.log('Current gap:', nextCardRect.top - signRect.bottom);
                        
                        // If there's an overlap or insufficient gap
                        const currentGap = nextCardRect.top - signRect.bottom;
                        const minGap = 20; // Minimum gap in pixels
                        
                        if (currentGap < minGap) {
                            // How much additional space we need
                            const additionalSpace = minGap - currentGap;
                            
                            // Get current margin in pixels
                            const currentMargin = parseInt(window.getComputedStyle(timelineItem).marginBottom);
                            console.log('Current margin:', currentMargin);
                            
                            // New margin = current + additional space needed
                            const newMargin = (currentMargin + additionalSpace) / 16;
                            console.log('Setting new margin:', newMargin + 'rem', '(Adding ' + additionalSpace + 'px)');
                            
                            // Apply the spacing
                            timelineItem.style.setProperty('--dynamic-space', newMargin + 'rem');
                            timelineItem.classList.add('needs-space');
                        } else {
                            console.log('Gap is sufficient:', currentGap, 'pixels. No adjustment needed.');
                            timelineItem.classList.remove('needs-space');
                            timelineItem.style.removeProperty('--dynamic-space');
                        }
                    }
                } else {
                    timelineItem.classList.remove('needs-space');
                    timelineItem.style.removeProperty('--dynamic-space');
                }
            }
            
            // Add click event listeners to project cards instead of buttons
            projectCards.forEach((card) => {
                card.addEventListener('click', (e) => {
                    e.stopPropagation();
                    // Find the parent .card element that needs to be flipped
                    const parentCard = card.closest('.card');
                    const timelineItem = parentCard.closest('.relative');
                    
                    // Toggle flipped state
                    const willBeFlipped = !parentCard.classList.contains('flipped');
                    parentCard.classList.toggle('flipped');
                    
                    // Clear any pending timeouts
                    clearTimeout(activeTimeout);
                    
                    // Update spacing after animation completes
                    activeTimeout = setTimeout(() => {
                        console.log('Checking spacing after flip...');
                        updateSpacing(timelineItem, willBeFlipped);
                    }, 300);
                });
            });

            // Update on resize
            let resizeTimeout;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    console.log('Checking spacing after resize...');
                    document.querySelectorAll('.timeline-container > div.relative').forEach(item => {
                        const card = item.querySelector('.card');
                        if (card && card.classList.contains('flipped')) {
                            updateSpacing(item, true);
                        }
                    });
                }, 100);
            });

            // Create glows for all timeline dots
            const timelineItems = document.querySelectorAll('.timeline-container > div.relative');
            
            timelineItems.forEach(item => {
                const existingDot = item.querySelector('.timeline-dot');
                if (existingDot) {
                    // Create glow element if it doesn't already exist
                    if (!item.querySelector('.timeline-dot-glow')) {
                        const glow = document.createElement('div');
                        glow.className = 'timeline-dot-glow';
                        document.body.appendChild(glow); // Append to body instead of the item
                        console.log('Added glow to dot', existingDot);
                    }
                }
            });
            
            // Fix for the last timeline dot if needed
            const lastItem = timelineItems[timelineItems.length - 1];
            if (lastItem && lastItem.querySelector('.timeline-dot') && !lastItem.querySelector('.timeline-dot-glow')) {
                const glow = document.createElement('div');
                glow.className = 'timeline-dot-glow';
                document.body.appendChild(glow); // Append to body
                console.log('Fixed last dot glow');
            }

            // Update glow positions and opacities based on scroll position
            const timelineDots = document.querySelectorAll('.timeline-dot');
            const glows = document.querySelectorAll('.timeline-dot-glow');
            
            // Make sure all dots and glows start with opacity 0
            timelineDots.forEach(dot => {
                dot.style.opacity = "0";
            });
            
            glows.forEach(glow => {
                glow.style.opacity = "0";
            });
            
            // Calculate if an element is in viewport and by how much
            function getVisibilityPercent(element) {
                const rect = element.getBoundingClientRect();
                const windowHeight = window.innerHeight;
                
                // Make the viewport zone tighter - only middle 30% of screen is fully lit
                const viewZone = windowHeight * 0.3; // 30% of screen height
                const viewZoneStart = windowHeight * 0.35; // Start at 35% down the screen
                const viewZoneEnd = viewZoneStart + viewZone;
                
                // Element center position
                const elementCenter = rect.top + (rect.height / 2);
                
                // Element is completely outside the viewing zone (strictly enforced)
                if (elementCenter < viewZoneStart - (viewZone * 0.3) || 
                    elementCenter > viewZoneEnd + (viewZone * 0.3)) {
                    return 0; // Completely off
                }
                
                // Element is in the center of the viewing zone
                if (elementCenter >= viewZoneStart && elementCenter <= viewZoneEnd) {
                    return 1; // Fully on
                }
                
                // Element is in the transition zone above the viewing zone
                if (elementCenter < viewZoneStart) {
                    const distance = viewZoneStart - elementCenter;
                    const transitionZone = viewZone * 0.3; // Shorter transition zone
                    return Math.max(0, 1 - (distance / transitionZone));
                }
                
                // Element is in the transition zone below the viewing zone
                const distance = elementCenter - viewZoneEnd;
                const transitionZone = viewZone * 0.3; // Shorter transition zone
                return Math.max(0, 1 - (distance / transitionZone));
            }
            
            // Update positions and opacities
            function updateGlows() {
                timelineDots.forEach((dot, index) => {
                    if (glows[index]) {
                        const rect = dot.getBoundingClientRect();
                        const glow = glows[index];
                        
                        // Position glow at dot's position
                        glow.style.top = (rect.top + rect.height/2) + 'px';
                        glow.style.left = (rect.left + rect.width/2) + 'px';
                        
                        // Calculate the visibility percentage of the dot's parent timeline item
                        const timelineItem = dot.closest('.relative');
                        const visibilityPercent = getVisibilityPercent(timelineItem);
                        
                        // Enhance contrast with more dramatic falloff
                        // Steeper power curve means faster falloff
                        const enhancedOpacity = Math.pow(visibilityPercent, 1.5); // Reduced power for more visibility
                        
                        // Set opacity with less strict cutoff
                        glow.style.opacity = enhancedOpacity < 0.02 ? "0" : enhancedOpacity.toFixed(2);
                        
                        // Also adjust dot opacity with similar less strict cutoff
                        const dotOpacity = Math.min(1, visibilityPercent * 1.5); // Increased multiplier
                        dot.style.opacity = dotOpacity < 0.02 ? "0" : dotOpacity.toFixed(2);
                    }
                });
            }
            
            // Update more frequently for smoother transitions
            window.addEventListener('scroll', updateGlows);
            window.addEventListener('resize', updateGlows);
            
            // Ensure initial state is correct after a brief delay
            setTimeout(updateGlows, 100);
        });
    </script>
</body>
</html> 